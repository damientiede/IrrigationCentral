<div *ngIf="loaded">
    <div class="row">        
        <div class="col-sm-12">
            <button (click)="back()" class="btn btn-nav" data-toggle="tooltip" data-placement="top" title="Back">
                <i class="fa fa-angle-left"></i>
            </button>
            <h4>Program {{program.Name}}</h4>
        </div>        
    </div>

    <div class="row">        
      <div class="col-sm-12"> 
        <div *ngIf="program">
          <div class="form-group">
              <label for="address">Name</label>
              <input type="text" class="form-control" id="address" [(ngModel)]="program.Name" required>
          </div>
          <div class="form-group">
              <label for="startdate">Start</label>
              <input type="datetime-local" class="form-control" id="startdate" name="start"             
                [ngModel]="program.Start" (ngModelChange)="program.Start=$event"/>
                <!-- [value]="startDate" (change)="startDate=$event.target.value"/> -->
          </div>
          <div class="form-group">
              <label for="enabled">Enabled</label>
              <input type="checkbox" class="form-control" id="enabled" [ngModel]="program?.Enabled" (ngModelChange)="program.Enabled=$event">
          </div>          
      </div>
    </div>
  </div>
  <div class="row">
      <div class="col-sm-12">        
        <button type="button" class="btn btn-success" (click)="save()">
            <!-- <i class="fa fa-save"></i> -->
            Save changes
        </button>
        <button type="button" class="btn btn-success" (click)="refreshConfig()">
            <!-- <i class="fa fa-sync-alt"></i> -->
            Refresh config
        </button>        
      </div>
    </div>
    <h5 *ngIf="program.Steps?.length==0">No program steps configured</h5>
    <h5 *ngIf="program.Steps?.length>0">Program steps</h5>
    <div class="row" *ngFor="let step of program.Steps" (click)="stepClick(step)">
      <div class="col-sm-12"> 
          <div [ngClass]="getStatusClass(step)">
              <div class="panel-title">
                  <i class="fa fa-cog"></i>
                  {{step.SolenoidName}} for {{step.Duration}} minutes.
              </div>
          </div>
      </div>
    </div> 
    <div class="row">
      <div class="col-sm-3">
          <button type="button" class="btn btn-success" (click)="newStep()">
              <i class="fa fa-plus"></i>
          </button>
      </div>
    </div>
    

    

</div>